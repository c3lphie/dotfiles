#+AUTHOR: Simon Christensen

* General
** User info
#+BEGIN_SRC emacs-lisp
(setq user-full-name "Simon Christensen"
      user-mail-address "c3lphie@protonmail")
#+END_SRC
** UI
*** Font
#+BEGIN_SRC emacs-lisp
(setq doom-font (font-spec :family "monospace" :size 15))
#+END_SRC
*** Theme
#+BEGIN_SRC emacs-lisp
(setq doom-theme 'doom-dracula)
#+END_SRC
*** Line Numbers
#+BEGIN_SRC emacs-lisp
(setq display-line-numbers-type t)
#+END_SRC
*** Transparency
#+BEGIN_SRC emacs-lisp
(set-frame-parameter (selected-frame) 'alpha '(100 . 100))
#+END_SRC

* Org-mode
** Misc
#+BEGIN_SRC emacs-lisp
(setq org-startup-with-inline-images t)
(setq org-export-coding-system 'utf-8)
(setq org-hide-emphasis-markers t)
#+END_SRC
** Directory
#+BEGIN_SRC emacs-lisp
(setq org-directory "~/repositories/notes/")
#+END_SRC
** Capture
Setting keymap
#+BEGIN_SRC emacs-lisp
(define-key global-map "\C-cc" 'org-capture)
#+END_SRC

*** Templates
#+BEGIN_SRC emacs-lisp
(after! org
  (setq org-capture-templates
        '(("s" "Skole")
          ("se" "Basal elektronik" entry (file "~/repositories/notes/"))
          ("sl" "Problembaseret læring" entry (file "~/repositories/notes/"))
          ("sp" "Imperativ programmering")
          ("sm" "Lineær algebra")
          ("sh" "Lektier" entry (file+headline "~/repositories/notes/homework.org" "Todo")
           "** TODO %^{Fag}: %?\n DEADLINE: %^{Deadline}T")
          )))
#+END_SRC
*** Autorefile
#+BEGIN_SRC emacs-lisp
(add-hook 'org-after-todo-state-change-hook 'dk/refile-todo 'append)
(defun dk/refile-todo()
(if (equal org-state "DONE")
	(dk/refile-to "~/repositories/notes/homework.org" "Done")
  (if (equal org-state "STRT")
	  (dk/refile-to "~/repositories/notes/homework.org" "In Progress")))
)

(defun dk/refile-to (file headline)
"Move current headline to specified location"
(let ((pos (save-excursion
			 (find-file file)
			 (org-find-exact-headline-in-buffer headline))))
  (org-refile nil nil (list headline file nil pos)))
(switch-to-buffer (current-buffer))
)
#+END_SRC
